"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[7567],{6673:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>t,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"Operating Systems/Linux Programming/Shell","title":"Shell","description":"Shell is a program that infinite looped to execute and interpreter command.","source":"@site/docs/Operating Systems/Linux Programming/Shell.md","sourceDirName":"Operating Systems/Linux Programming","slug":"/Operating Systems/Linux Programming/Shell","permalink":"/docs/Operating Systems/Linux Programming/Shell","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Select system call","permalink":"/docs/Operating Systems/Linux Programming/Select"},"next":{"title":"Signal","permalink":"/docs/Operating Systems/Linux Programming/Signal"}}');var l=s(4848),o=s(8453);const r={},t=void 0,d={},c=[{value:"Basics",id:"basics",level:2},{value:"Quotes",id:"quotes",level:3},{value:"Variable",id:"variable",level:3},{value:"Symbols",id:"symbols",level:3},{value:"Control Flow",id:"control-flow",level:2},{value:"Conditional Branching",id:"conditional-branching",level:3},{value:"Conditions",id:"conditions",level:4},{value:"if/elif/else Statements",id:"ifelifelse-statements",level:4},{value:"switch-case statement",id:"switch-case-statement",level:4},{value:"For Loops",id:"for-loops",level:3},{value:"While Loops",id:"while-loops",level:3},{value:"Function",id:"function",level:3}];function a(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.p,{children:"Shell is a program that infinite looped to execute and interpreter command."}),"\n",(0,l.jsx)(n.p,{children:"It likes: id1([Print Prompt]) -> id2([Read a Command]) -> id3([Parse Command]) -> id4([Execute the Command]) --\x3eid1"}),"\n",(0,l.jsx)(n.p,{children:"There are many types of sh: zsh, csh, sh, bash, etc. Now the default shell for most Linux distributions is bash. This article will also be based on shell programming using bash."}),"\n",(0,l.jsx)(n.h2,{id:"basics",children:"Basics"}),"\n",(0,l.jsxs)(n.p,{children:["Shell Programming basically combine most Linux Command and write it in some way in a ",(0,l.jsx)(n.code,{children:"sh"})," file so that ",(0,l.jsx)(n.code,{children:"bash"})," can interpreter and execute it. Some common Bash commands:"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"echo"}),", ",(0,l.jsx)(n.code,{children:"ls"}),", ",(0,l.jsx)(n.code,{children:"cd"}),", ",(0,l.jsx)(n.code,{children:"cat"}),", ",(0,l.jsx)(n.code,{children:"grep"}),", ",(0,l.jsx)(n.code,{children:"mkdir"}),", ",(0,l.jsx)(n.code,{children:"touch"}),", ",(0,l.jsx)(n.code,{children:"pwd"})," and so on."]}),"\n",(0,l.jsxs)(n.li,{children:["use ",(0,l.jsx)(n.code,{children:"help"}),"to list all bash command"]}),"\n",(0,l.jsxs)(n.li,{children:["use ",(0,l.jsx)(n.code,{children:"man"})," to view detailed documentation on various commands, library functions, configuration file formats, etc."]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"quotes",children:"Quotes"}),"\n",(0,l.jsx)(n.p,{children:"Sometimes we need quotes to wrap sentences or commands to make them together."}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"''"}),": show all string and do nothing with special symbols"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:'""'}),": show all string and show the result of ",(0,l.jsx)(n.code,{children:"$var"}),", original symbol after , execution result in ``"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"variable",children:"Variable"}),"\n",(0,l.jsxs)(n.p,{children:["Initializing variables in ",(0,l.jsx)(n.code,{children:"sh"})," is very easy because there is no type checking. ",(0,l.jsx)(n.code,{children:"variable=whateveriwant"})," is all you need. But be aware that it is space sensitive. Bash use space to separate variables. ",(0,l.jsx)(n.code,{children:"variable ="})," will execute command ",(0,l.jsx)(n.code,{children:"variable"})," and ",(0,l.jsx)(n.code,{children:"="})," ."]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["To execute your variable, you should add ",(0,l.jsx)(n.code,{children:"$"})," before your variable name, i.e. ",(0,l.jsx)(n.code,{children:"$variable"})]}),"\n",(0,l.jsxs)(n.li,{children:["If space is needed, use ",(0,l.jsx)(n.code,{children:"''"})," or ",(0,l.jsx)(n.code,{children:'""'})," to wrap them."]}),"\n",(0,l.jsxs)(n.li,{children:["If want to assign the result of some command use ",(0,l.jsx)(n.code,{children:"``"})," or ",(0,l.jsx)(n.code,{children:"$()"})," to wrap them, or ",(0,l.jsx)(n.code,{children:'""'})," for sentence and result combination."]}),"\n",(0,l.jsxs)(n.li,{children:["use ",(0,l.jsx)(n.code,{children:"unset"})," to delete assign"]}),"\n",(0,l.jsxs)(n.li,{children:["use ",(0,l.jsx)(n.code,{children:"local"})," to declare variable in the same scope"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"Operators using default values:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"${VARIABLE:=default}"})," If VARIABLE is unset or empty, assigns default to VARIABLE and returns the value of default."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"${VARIABLE:-default}"})," If VARIABLE is unset or empty, returns the value of default but does not change the value of VARIABLE."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"${VARIABLE:+alternate}"})," If VARIABLE is set and non-empty, set the value of alternate. Otherwise return the empty string."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"${VARIABLE:?error_message}"})," If VARIABLE is not set or empty, print error_message and exit the script. If it is set, return its value."]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"symbols",children:"Symbols"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"|"})," is the pipe symbol. The output result on the left side of ",(0,l.jsx)(n.code,{children:"|"})," will be used as the input of the command on the right side"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"||"}),"is the logic or symbol. If and only if the command on the left side of ",(0,l.jsx)(n.code,{children:"||"})," fails or ends with a non-zero status, the command on the right side will be executed."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"&"})," is the background run symbol. The command before ",(0,l.jsx)(n.code,{children:"&"})," will run background."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"&&"})," is the logic and symbol. The command on the right side will be executed if and only if the command on the left side of ",(0,l.jsx)(n.code,{children:"&&"})," is executed successfully."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:";"})," is the command separator. Used to separate multiple commands so that they can be executed one after another in one line."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:";;"})," Used to end a pattern in a ",(0,l.jsx)(n.a,{href:"#",children:"case"})," [statement](#### switch-case statement)."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"<"})," Use the contents of a file as input to a command"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"<<"})," Takes multiple lines of text as input to a command, start and end with customized eof."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"<<<"})," Single line input"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:">"})," Redirects the output of a command to a file, overwriting the contents of the file."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:">>"})," Append the output of the command to the end of the file instead of overwriting the file contents."]}),"\n",(0,l.jsxs)(n.li,{children:["if you want to use those symbol, add ",(0,l.jsx)(n.code,{children:"\\"})," before each single character"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:":"})," used when a valid command placeholder is expected without performing any action"]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["Some symbols are executable followed by ",(0,l.jsx)(n.code,{children:"$"})]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"$?"})," : a special variable to store last command status. If 1 fail or 0 success"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"$#"}),": the number of arguments from current execution"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"$num"}),": the ",(0,l.jsx)(n.code,{children:"num"}),"th arg, if no specifical definition of num"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"$*"}),"\uff1aall args from current execution"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"$@"}),": target, or remain args"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"control-flow",children:"Control Flow"}),"\n",(0,l.jsx)(n.h3,{id:"conditional-branching",children:"Conditional Branching"}),"\n",(0,l.jsx)(n.h4,{id:"conditions",children:"Conditions"}),"\n",(0,l.jsxs)(n.p,{children:["Some common conditions need to be compared using ",(0,l.jsx)(n.code,{children:"test"})," or use ",(0,l.jsx)(n.code,{children:"[]"})," to wrap them."]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["There are ",(0,l.jsx)(n.code,{children:"-lt"}),", ",(0,l.jsx)(n.code,{children:"-gt"}),", ",(0,l.jsx)(n.code,{children:"-eq"}),", ",(0,l.jsx)(n.code,{children:"-ge"}),", ",(0,l.jsx)(n.code,{children:"-le"}),", ",(0,l.jsx)(n.code,{children:"-ne"})," for comparing numbers."]}),"\n",(0,l.jsxs)(n.li,{children:["For string, you can use ",(0,l.jsx)(n.code,{children:"="})," or ",(0,l.jsx)(n.code,{children:"!="})," for direct comparison"]}),"\n",(0,l.jsxs)(n.li,{children:["For file, you can use ",(0,l.jsx)(n.code,{children:"-arg filename"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Use ",(0,l.jsx)(n.code,{children:"-f"})," to compare whether the file exists and is a file instead of a folder"]}),"\n",(0,l.jsxs)(n.li,{children:["Use ",(0,l.jsx)(n.code,{children:"-d"})," to compare whether the file exists and is a folder instead of a file"]}),"\n",(0,l.jsxs)(n.li,{children:["Use ",(0,l.jsx)(n.code,{children:"-s"})," to compare whether the file exists and is a file instead of a folder, and the file is not empty"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"ifelifelse-statements",children:"if/elif/else Statements"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"if conditions\r\nthen\t\r\n  commands\r\nelif conditions\r\nthen\r\n  commands\r\nelse\r\n  commands\r\nfi\n"})}),"\n",(0,l.jsx)(n.h4,{id:"switch-case-statement",children:"switch-case statement"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"case arg in\r\n    opt1)\r\n        commands\r\n        ;;\r\n    opt2)\r\n        commands\r\n        ;;\r\n    *)\r\n        commands\r\n        ;;\r\nesac\n"})}),"\n",(0,l.jsx)(n.h3,{id:"for-loops",children:"For Loops"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"for xx in arg1 arg2 xxx\r\ndo\r\n    command\r\ndone\n"})}),"\n",(0,l.jsxs)(n.p,{children:["If you want to generate a sequence of number, you can use ",(0,l.jsx)(n.code,{children:"`seq start step end`"})," or ",(0,l.jsx)(n.code,{children:"`seq start end`"}),", end is inclusive. You can also use ",(0,l.jsx)(n.code,{children:"$()"})," wrap them as mentioned above."]}),"\n",(0,l.jsx)(n.h3,{id:"while-loops",children:"While Loops"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"while conditions\r\ndo\r\n  commands\r\ndone\n"})}),"\n",(0,l.jsx)(n.h3,{id:"function",children:"Function"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"func(){\r\n}\n"})}),"\n",(0,l.jsxs)(n.p,{children:["For arguments pass into function, use executable symbols followed by ",(0,l.jsx)(n.code,{children:"$"})]}),"\n",(0,l.jsxs)(n.p,{children:["i.e. you can use ",(0,l.jsx)(n.code,{children:"local var=${1:-arg1}"})," to initialize a local variable ",(0,l.jsx)(n.code,{children:"var"})," with ",(0,l.jsx)(n.code,{children:"$1"})," or default value ",(0,l.jsx)(n.code,{children:"arg1"})," if there is not first arguments."]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(a,{...e})}):a(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>t});var i=s(6540);const l={},o=i.createContext(l);function r(e){const n=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:r(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);