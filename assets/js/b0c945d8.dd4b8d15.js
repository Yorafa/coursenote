"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[3096],{1962:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>d,frontMatter:()=>o,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"Database/SQL RECURSIVE","title":"SQL RECURSIVE","description":"\u5728\u4e0a\u9762RECURSIVE\u4f8b\u5b50\u4e2d\u6bcf\u4e2aCLAUSE\u90fd\u53ea\u4f1a\u6267\u884c\u4e00\u904d\uff0c\u4e5f\u5c31\u662f\u8bf4\u7b2c\u4e00\u5c42\u5c31\u662f\u57fa\u7840\u90e8\u5206\uff0c\u7b2c\u4e8c\u5c42\u662f\u57fa\u7840\u90e8\u5206\u52a01\uff0c\u7b2c\u4e09\u5c42\u662f\u7b2c\u4e8c\u5c42\u52a01\uff0c\u4ee5\u6b64\u7c7b\u63a8, \u4e0d\u4f1a\u51fa\u73b0\u7b2c\u4e09\u5c42\u7684\u65f6\u5019\u628a\u7b2c\u4e00\u5c42\u548c\u7b2c\u4e8c\u5c42\u90fd+1\u7684\u60c5\u51b5\u6240\u4ee5\u53ef\u4ee5\u4f7f\u7528union all\u4e0d\u505a\u67e5\u91cd","source":"@site/docs/Database/SQL RECURSIVE.md","sourceDirName":"Database","slug":"/Database/SQL RECURSIVE","permalink":"/docs/Database/SQL RECURSIVE","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Storage Models & DataS Compression","permalink":"/docs/Database/4 Storage Models & Compression"},"next":{"title":"Outline","permalink":"/docs/DevOps/AWS/Outline"}}');var a=t(4848),s=t(8453);const o={},i=void 0,l={},c=[];function p(e){const n={code:"code",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-MySQL",children:"WITH RECURSIVE employee_hierarchy AS (\r\n    -- \u57fa\u7840\u67e5\u8be2\u90e8\u5206\uff1a\u9009\u62e9\u9876\u7ea7\u7ba1\u7406\u8005\r\n    SELECT emp_id, emp_name, manager_id, 1 AS level\r\n    FROM employees\r\n    WHERE manager_id IS NULL\r\n    \r\n    UNION ALL\r\n    \r\n    -- \u9012\u5f52\u90e8\u5206\uff1a\u67e5\u627e\u4e0b\u4e00\u7ea7\u5458\u5de5\uff0c\u589e\u52a0\u9012\u5f52\u6df1\u5ea6\r\n    SELECT e.emp_id, e.emp_name, e.manager_id, eh.level + 1 AS level\r\n    FROM employees e\r\n    INNER JOIN employee_hierarchy eh ON e.manager_id = eh.emp_id\r\n    WHERE eh.level < 3\r\n)\r\nSELECT * FROM employee_hierarchy;\n"})}),"\n",(0,a.jsx)(n.p,{children:"\u5728\u4e0a\u9762RECURSIVE\u4f8b\u5b50\u4e2d\u6bcf\u4e2aCLAUSE\u90fd\u53ea\u4f1a\u6267\u884c\u4e00\u904d\uff0c\u4e5f\u5c31\u662f\u8bf4\u7b2c\u4e00\u5c42\u5c31\u662f\u57fa\u7840\u90e8\u5206\uff0c\u7b2c\u4e8c\u5c42\u662f\u57fa\u7840\u90e8\u5206\u52a01\uff0c\u7b2c\u4e09\u5c42\u662f\u7b2c\u4e8c\u5c42\u52a01\uff0c\u4ee5\u6b64\u7c7b\u63a8, \u4e0d\u4f1a\u51fa\u73b0\u7b2c\u4e09\u5c42\u7684\u65f6\u5019\u628a\u7b2c\u4e00\u5c42\u548c\u7b2c\u4e8c\u5c42\u90fd+1\u7684\u60c5\u51b5\u6240\u4ee5\u53ef\u4ee5\u4f7f\u7528union all\u4e0d\u505a\u67e5\u91cd"})]})}function d(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(p,{...e})}):p(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>i});var r=t(6540);const a={},s=r.createContext(a);function o(e){const n=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);